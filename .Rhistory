knitr::opts_chunk$set(echo = TRUE)
library(leaflet)    # The map-making package
library(geojsonio)  # A package for geographic and spatial data, requires the latest version of dplyr
library(dplyr)      # Used for data manipulation and merging
library(htmltools)  # Used for constructing map labels using HTML
library(ggplot2)
library(tidyverse)
rawDF <- read_csv("data/raw_data.csv")
# This block visualizes the trends of total co2 emossion by year
observationDF <- rawDF %>%
group_by(year) %>%
summarise(total = sum(co2))
observationDF %>%  ggplot(mapping = aes(x = year, y = total)) +
geom_smooth()
rawDF <- rawDF %>% filter(year > 1850)
max(rawDF $ year)
maniDF <- rawDF %>% mutate(country = case_when(
country == "United States" ~ "United States of America",
TRUE ~ country
))
maniDF <- maniDF  %>%
mutate(
ghg_per_gdp = total_ghg / gdp,
methane_per_gdp = methane / gdp,
nitrous_oxide_per_gdp = nitrous_oxide / gdp
)
maniDF %>% write_csv("data/rawDF.csv")
selectDF <- maniDF[, c("country", "year", "co2", "population", "gdp")]
ncol(rawDF)
nrow(rawDF)
View(rawDF)
range(rawDF$year)
library(naniar)
# Visualize missing data
gg_miss_upset(rawDF)
?gg_miss_upset
# Visualize missing data
gg_miss_upset(rawDF, nset = 10)
summary(rawDF)
View(maniDF)
summary(rawDF[country == "United States"])
summary(rawDF[rawDF$country == "United States"])
summary(rawDF[,rawDF$country == "United States"])
summary(rawDF[rawDF$country == "United States",])
ggplot(data = rawDF, x = country, y = co2) + geom_bar
ggplot(data = rawDF, x = country, y = co2) + geom_bar()
ggplot(data = rawDF) + aes(x = country, y = co2) + geom_bar()
knitr::opts_chunk$set(echo = TRUE)
library(naniar)
library(ggplot2)
knitr::opts_chunk$set(echo = TRUE)
# summary(rawDF[rawDF$country == "United States",])
ggplot(data = rawDF) + aes(x = country, y = co2) + geom_bar()
# summary(rawDF[rawDF$country == "United States",])
ggplot(data = rawDF) + aes(x = country, y = co2) + geom_bar()
# summary(rawDF[rawDF$country == "United States",])
ggplot(rawDF, aes(x = country, y = CO2)) +
geom_bar() +
labs(title="Number of Cars by Cylinders", x="Number of Cylinders", y="Count") +
scale_fill_manual(values=c("red", "blue", "green")) +
theme_minimal()
# summary(rawDF[rawDF$country == "United States",])
ggplot(rawDF, aes(x = country, y = CO2)) +
geom_col() +
labs(title="Number of Cars by Cylinders", x="Number of Cylinders", y="Count") +
theme_minimal()
# summary(rawDF[rawDF$country == "United States",])
data_2021 <- filter(rawDF$year == 2021)
# summary(rawDF[rawDF$country == "United States",])
data_2021 <- filter(rawDF$year = 2021)
# summary(rawDF[rawDF$country == "United States",])
data_2021 <- filter(rawDF$year == 2021)
# summary(rawDF[rawDF$country == "United States",])
data_2021 <- rawDF[rawDF$year == 2021, ]
View(data_2021)
ggplot(data_2021, aes(x = country, y = CO2)) +
geom_col() +
labs(title="Number of Cars by Cylinders", x="Number of Cylinders", y="Count") +
theme_minimal()
# summary(rawDF[rawDF$country == "United States",])
data_2021 <- rawDF[rawDF$year == 2021, ]
ggplot(data_2021, aes(x = country, y = co2)) +
geom_col() +
labs(title="CO2 Emissions by Country in 2021", x="Country", y="CO2 Emissions") +
theme_minimal()
data_2021 <- rawDF[-rawDF$country == "Africa", ]
data_2021 <- rawDF[rawDF$country != "Africa", ]
# summary(rawDF[rawDF$country == "United States",])
data_2021 <- rawDF[rawDF$year == 2021, ]
data_2021 <- rawDF[data_2021$country != "Africa" && "Asia" && "World" && "", ]
data_2021 <- rawDF[data_2021$country != "Africa" || "Asia" || "World" || "", ]
# summary(rawDF[rawDF$country == "United States",])
data_2021 <- rawDF[rawDF$year == 2021, ]
data_2021 <- rawDF[data_2021$country != "Africa" || "Asia" || "World" || "", ]
# summary(rawDF[rawDF$country == "United States",])
data_2021 <- rawDF[rawDF$year == 2021, ]
data_2021 <- data_2021[data_2021$country != "Africa" || "Asia" || "World" || "", ]
View(data_2021)
# summary(rawDF[rawDF$country == "United States",])
data_2021 <- rawDF[rawDF$year == 2021, ]
# summary(rawDF[rawDF$country == "United States",])
data_2021 <- rawDF[rawDF$year == 2021, ]
top_20_co2 <- data_2021 %>%
arrange(-co2) %>%
head(20)
ggplot(top_20_co2, aes(x = reorder(country, co2), y = co2)) +
geom_col() +
labs(title="Top 20 Areas/Countries by CO2 Emissions in 2021", x="Country", y="CO2 Emissions") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
